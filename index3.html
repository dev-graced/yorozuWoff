<!DOCTYPE html>
<html>
<head>
  <title>Google API OAuth 2.0</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
    <h2>Profile</h2>
        <table>
            <tr>
                <th>domainId</th>
                <td id="domainIdField"></td>
            </tr>
            <tr>
                <th>userId</th>
                <td id="userIdProfileField"></td>
            </tr>
        </table>
  <button id="authorize-button">Authorize</button>
  <script>
    // クライアントIDとクライアントシークレットを設定
    var clientId = '479289013154-2l1m68f7pc3dp21o1voscge1h82cqeqe.apps.googleusercontent.com';
    var clientSecret = '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';
    
    // アクセストークンをリクエストするためのスコープ（APIへのアクセス範囲）を指定
    var scopes = ['https://www.googleapis.com/auth/spreadsheets'];

    // OAuth 2.0クライアントライブラリの読み込み
    gapi.load('client', function() {
        document.getElementById('domainIdField').textContent = "YGG?";
      gapi.client.init({
        clientId: clientId,
        clientSecret: clientSecret,
        scope: scopes
        //discoveryDocs: ['https://www.googleapis.com/discovery/v1/apis/your_api_name/v1/rest']
      }).then(function() {
        document.getElementById('domainIdField').textContent = "YKKK?";
        // 認証ボタンの表示
        var authorizeButton = document.getElementById('authorize-button');
        authorizeButton.onclick = handleAuthClick;
      });
    });

    // ユーザーに認証を求める関数
    function handleAuthClick() {
        
      gapi.auth2.getAuthInstance().signIn().then(function() {
        // 認証が成功したらアクセストークンを取得
        var accessToken = gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token;
        console.log('Access Token:', accessToken);
      });
    }
  </script>
  <script src="https://apis.google.com/js/api.js"></script>
</body>
</html>